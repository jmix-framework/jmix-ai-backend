[
  {
    "_entityName": "CheckDef",
    "id": "018c1f8e-3b7a-7f9a-8c2d-4e5a6b7c8d9e",
    "active": "true",
    "category": "basic",
    "question": "Who are you?",
    "answer": "I am an AI assistant designed to help backend Java developers understand and use the Jmix framework, specifically versions 2 and above. If you have any questions about Jmix (version 2+), Java backend development, or related best practices, feel free to ask!",
    "script": "(actualAnswer \u003d~ /AI/ \u0026\u0026 actualAnswer \u003d~ /(?i)assistant/ \u0026\u0026 actualAnswer \u003d~ /Jmix/) ? 1 : 0\n",
    "rouge": "true",
    "bert": "true"
  },
  {
    "_entityName": "CheckDef",
    "id": "018c1b7e-3f8a-7e4a-8c2f-9b7d6e4a2c1f",
    "active": "true",
    "category": "basic",
    "question": "What\u0027s new in the latest Jmix version?",
    "answer": "The latest stable Jmix version in the docs is **Jmix 2.7**. Key changes:\n\n## Platform & Dependencies\n\n- **Vaadin updated to 24.9** (for Flow UI).\n- Minimal **IntelliJ IDEA** for Studio is now **2025.1**.\n- Standard upgrade path via Studio → *Jmix Tool Window → Settings → Project Properties → Change platform version*.\n\n---\n\n## Studio / Developer Experience\n\n- **Role Designer**\n  - Visualizes **role inheritance hierarchy**.\n  - Shows permissions inherited from base roles as **read‑only**.\n  - Entity permissions tab uses **color highlighting** for enabled/disabled elements.\n\n- **Entity Designer**\n  - New action **“Add attribute from DB”** → supports **database‑first** approach:\n    - Add column in DB → import as JPA attribute.\n  - New JPA Entity dialog: **“Create Data Repository”** checkbox:\n    - Automatically creates a Spring Data `JmixDataRepository` for the entity.\n    - Studio remembers the checkbox state.\n\n- **View Creation Wizard**\n  - If a repository exists for an entity, **“Use Data Repositories”** is pre‑selected and view will use repository delegates by default.\n\n---\n\n## New / Improved UI Components\n\nAll in Flow UI (Vaadin):\n\n- **`groupDataGrid`**\n  - Data grid with **grouping** by one or more columns.\n  - Provided by **Grouping Data Grid** add‑on.\n  \n- **`card`**\n  - Container for presenting content as a **card**.\n  - Good for structuring related content and actions.\n\n- **`gridLayout`**\n  - Layout based on **CSS Grid**.\n  - Two‑dimensional, responsive layout.\n  - Can host individual components, cards, or fragments.\n  - Alternative to data grids when you want free layout but grid‑like structure.\n\n- **`userMenu`**\n  - Displays current **logged‑in user** and related actions such as:\n    - **Substitute user**\n    - **Log out**\n  - Supports nested menu items and arbitrary UI components inside.\n  - Included by default in the **new project template** main view.\n\n---\n\n## Filtering & Data\n\n- **Date filtering**\n  - `genericFilter` and `propertyFilter`:\n    - New operation **“date equals”** ignoring time part of `datetime`.\n  - **Date Interval dialog**:\n    - Now supports **arbitrary start and end date**.\n    - Can replace manual `>=` / `<` conditions for “between” checks.\n\n---\n\n## Data Repositories\n\nChanges in `JmixDataRepository`:\n\n- Now extends **`org.springframework.data.repository.ListCrudRepository`**:\n  - All `findAll()` methods that returned `Iterable` now return `List`.\n- Supports queries returning **scalar values and aggregates** using `@Query`.\n- Methods returning `Page` now **always do a count query** for total items/pages.\n  - If you don’t need totals, use new **`findAllSlice()`** methods returning `Slice` to avoid the extra count query.\n- New delegate handlers for views:\n  - **`loadFromRepositoryDelegate`**\n  - **`totalCountByRepositoryDelegate`**\n  - Allow calling repositories directly in views without converting `LoadContext` params.\n  - Studio will wire these automatically if you choose **“Use Data Repositories”** in the wizard.\n\n---\n\n## Reports Add‑on\n\n- **Design‑time reports**:\n  - Define report structure in **annotated Java classes** instead of pure runtime configuration.\n  - Benefits:\n    - Stored in **version control** (Git).\n    - Shipping report changes with app releases.\n    - Can use **debugger / IDE tools** on report logic.\n  - Trade‑off: runtime users **cannot modify** design‑time reports in the UI.\n- Report entity:\n  - **Report code is now mandatory** and must be unique among **all runtime and design‑time** reports.\n\n---\n\n## REST DataStore Add‑on\n\n- New option to **share entities and service interfaces** between applications using REST DataStore.\n  - Tighter coupling, but **less code duplication** and simpler integration.\n  - See docs section “REST DataStore: Sharing Code Between Applications”.\n\n---\n\n## Entity Log\n\n- Now can **track changes in many‑to‑many attributes** (on the owning side).\n\n---\n\n## Breaking Changes to Watch\n\n1. **`JmixDataRepository` method overrides**\n   - If you have custom `findAll` overrides, you must change the return type to `List`:\n   ```java\n   public interface OrderRepository extends JmixDataRepository<Order, UUID> {\n\n       // before\n       // @Override\n       // Iterable<Order> findAll(Sort sort, @Nullable FetchPlan fetchPlan);\n\n       // after\n       @Override\n       List<Order> findAll(Sort sort, @Nullable FetchPlan fetchPlan);\n   }\n   ```\n\n2. **Report code required**\n   - Any report without code must be assigned a **unique code** when edited.\n\n3. **Class move**\n   - `io.jmix.flowui.model.impl.EntityValuesComparator` moved to `io.jmix.core.comparator`.\n   - Update imports if you use it.\n\n4. **Regressions in 2.7.0**\n   - Known issues **#4850** and **#4852** affect **frontend‑only** projects; 2.7.1 has fixes.\n   - Check the issue comments if you’re on 2.7.0.",
    "script": "(actualAnswer =~ /2\\.7/ && actualAnswer =~ /Vaadin\\D*24\\.9/) ? 1 : 0",
    "rouge": "true",
    "bert": "true"
  },
  {
    "_entityName": "CheckDef",
    "id": "018c1b7e-3f8b-7b3e-9a4c-7d6e2f1b8a3e",
    "active": "true",
    "category": "forbidden topic",
    "question": "How to make fried eggs?",
    "answer": "I\u0027m here to help with questions related to Jmix version 2+ and Java development. If you have a question about Jmix or Java, please let me know! For cooking queries like making fried eggs, I recommend checking a reputable recipe website or cooking app.",
    "script": "(actualAnswer \u003d~ /(?i)frying pan/ || actualAnswer \u003d~ /(?i)heat/) ? 0 : 1",
    "rouge": "true",
    "bert": "true"
  },
  {
    "_entityName": "CheckDef",
    "id": "018c1f8e-3b7e-7f9e-c061-8f9a0b1c2d3e",
    "active": "true",
    "category": "Jmix 1.x",
    "question": "What is vaadin 8 add-ons repository URL, for Jmix 1.x ?",
    "answer": "I’m sorry, but I can only provide assistance with Jmix version 2 and above. If you have any questions related to Jmix 2+ or Java development, feel free to ask!",
    "script": "(actualAnswer \u003d~ /(?i)only/ \u0026\u0026 actualAnswer \u003d~ /(?i)Jmix 2/) ? 1 : 0",
    "rouge": "true",
    "bert": "true"
  },
  {
    "_entityName": "CheckDef",
    "id": "018c1f8e-3b7f-7f9f-d172-9f0a1b2c3d4e",
    "active": "true",
    "category": "language",
    "question": "¿Como mostrar u ocultar condicionalmente un dataGrid?",
    "answer": "Para mostrar u ocultar condicionalmente un DataGrid en Jmix 2+, debes manipular la visibilidad del componente directamente desde el controlador de la vista (Java). Esto se hace usando el método setVisible(boolean) del DataGrid.\n\nSupón que quieres mostrar el DataGrid solo si una condición se cumple (por ejemplo, si hay datos cargados, o si el usuario ha marcado un checkbox).\n\nA continuación, se muestra un ejemplo básico:\n\nXML (fragmento de la vista):\n```xml\n\u003cdataGrid id\u003d\"customersDataGrid\"\n          dataContainer\u003d\"customersDc\"\n          width\u003d\"100%\"\u003e\n    \u003ccolumns\u003e\n        \u003ccolumn property\u003d\"firstName\"/\u003e\n        \u003ccolumn property\u003d\"lastName\"/\u003e\n        \u003ccolumn property\u003d\"age\"/\u003e\n    \u003c/columns\u003e\n\u003c/dataGrid\u003e\n```\n\nJava (controlador de la vista):\n```java\n@ViewComponent\nprivate DataGrid\u003cCustomer\u003e customersDataGrid;\n\n@Autowired\nprivate CollectionContainer\u003cCustomer\u003e customersDc;\n\n@Subscribe\npublic void onReady(ReadyEvent event) {\n    // Ejemplo: mostrar el DataGrid solo si hay datos\n    boolean hayDatos \u003d !customersDc.getItems().isEmpty();\n    customersDataGrid.setVisible(hayDatos);\n}\n\n// También puedes reaccionar a eventos de UI. Ejemplo usando un checkbox:\n@ViewComponent\nprivate CheckBox mostrarGridCheckBox;\n\n@Subscribe(\"mostrarGridCheckBox\")\npublic void onMostrarGridCheckBoxValueChange(HasValue.ValueChangeEvent\u003cBoolean\u003e event) {\n    customersDataGrid.setVisible(Boolean.TRUE.equals(event.getValue()));\n}\n```\n\nExplicación:\n- El método setVisible(true/false) del DataGrid permite cambiar su visibilidad dinámicamente.\n- Usar el evento onReady es útil para establecer el estado inicial basado en la lógica de tu aplicación.\n- Puedes suscribirte a eventos de UI (como el cambio de valor de un CheckBox) para alternar la visibilidad según la interacción del usuario.\n\n¿Te gustaría un ejemplo basado en una condición específica? Si es así, indícamela y te preparo el código detallado.",
    "script": "(actualAnswer \u003d~ /visibilidad/) ? 1 : 0",
    "rouge": "true",
    "bert": "true"
  },
  {
    "_entityName": "CheckDef",
    "id": "018c1f8e-3b80-7fa0-e283-af1a2b3c4d5e",
    "active": "true",
    "category": "Jmix 1.x",
    "question": "And where in the descriptor should \u003cdialog ...\u003e be located ?",
    "answer": "The \u003cdialog\u003e XML element is not a standard element for Jmix view XML descriptors.\n\nBased on all available documentation and UI samples for Jmix 2+, dialogs are created and managed programmatically in Java using the Dialogs API (e.g., dialogs.createOptionDialog(), dialogs.createMessageDialog(), etc.). Dialog windows are not described declaratively with a \u003cdialog\u003e element in the XML descriptors of views. Instead, the XML file (e.g., my-view.xml) contains components inside a \u003clayout\u003e element, like so:\n\n```xml\n\u003cview xmlns\u003d\"http://jmix.io/schema/flowui/view\"\u003e\n    \u003clayout\u003e\n        \u003c!-- View components here (fields, buttons, etc.) --\u003e\n    \u003c/layout\u003e\n\u003c/view\u003e\n```\n\nIf you want to show a dialog, you should trigger it from Java code, using injected Dialogs, for example:\n\n```java\n@Autowired\nprivate Dialogs dialogs;\n\n@Subscribe(\"openDialogButton\")\nprivate void onOpenDialogButtonClick(ClickEvent\u003cJmixButton\u003e event) {\n    dialogs.createOptionDialog()\n        .withHeader(\"Confirm action\")\n        .withText(\"Are you sure?\")\n        .withActions(\n            new DialogAction(DialogAction.Type.OK),\n            new DialogAction(DialogAction.Type.CANCEL)\n        )\n        .open();\n}\n```\n\nIf you are seeking to include a reusable or custom UI component (not dialog), you may use the \u003ccomponent\u003e tag within \u003clayout\u003e. There is no evidence in the Jmix 2+ documentation or samples that \u003cdialog\u003e is a valid XML element in view descriptors.\n\n**Summary:**  \n- Place components inside \u003clayout\u003e in view XML.\n- Dialogs/windows are created only in Java code using the Dialogs API.\n- \u003cdialog\u003e is not recognized as a valid XML element inside view descriptors in Jmix 2+.\n\nIf you have a different use case (such as a custom XML component or third-party integration), please describe your scenario, and I can offer appropriate Jmix 2+ best practices.",
    "script": "(actualAnswer \u003d~ /dialog id\u003d/) ? 0 : 1",
    "rouge": "true",
    "bert": "true"
  },
  {
    "_entityName": "CheckDef",
    "id": "019ae485-f351-7642-98b1-44b3340e6000",
    "question": "How to save custom text value in current view URL?",
    "active": true,
    "bert": true,
    "rouge": true,
    "script": "(actualAnswer \u003d~ /urlQueryParameters/ \u0026\u0026 actualAnswer \u003d~ /AbstractUrlQueryParametersBinder/) ? 1 : 0",
    "createdDate": "2025-12-03T18:04:09.926+04:00",
    "answer": "Use the `urlQueryParameters` facet – it’s exactly for binding view state to the current URL (including custom values).\n\nBelow is a minimal example for **saving a text field value in the URL** and restoring it when you refresh or navigate back.\n\n### 1. View XML\n\n```xml\n\u003cview xmlns\u003d\"http://jmix.io/schema/flowui/view\"\u003e\n    \u003cfacets\u003e\n        \u003curlQueryParameters id\u003d\"urlQueryParameters\"/\u003e\n    \u003c/facets\u003e\n\n    \u003clayout\u003e\n        \u003ctextField id\u003d\"sampleTextField\" datatype\u003d\"string\"/\u003e\n    \u003c/layout\u003e\n\u003c/view\u003e\n```\n\n### 2. View Controller\n\n```java\n@ViewController(\"sample-view\")\n@ViewDescriptor(\"sample-view.xml\")\npublic class SampleView extends StandardView {\n\n    private static final String TEXT_URL_PARAM \u003d \"text\";\n\n    @ViewComponent\n    private UrlQueryParametersFacet urlQueryParameters;\n\n    @ViewComponent\n    private TypedTextField\u003cString\u003e sampleTextField;\n\n    private class SampleUrlQueryParametersBinder extends AbstractUrlQueryParametersBinder {\n\n        public SampleUrlQueryParametersBinder() {\n            // When text changes – update URL\n            sampleTextField.addValueChangeListener(event -\u003e {\n                String text \u003d event.getValue();\n\n                QueryParameters qp \u003d new QueryParameters(\n                        Map.of(\n                                TEXT_URL_PARAM,\n                                text !\u003d null \u0026\u0026 !text.isEmpty()\n                                        ? Collections.singletonList(text)\n                                        : Collections.emptyList()\n                        )\n                );\n\n                fireQueryParametersChanged(\n                        new UrlQueryParametersFacet.UrlQueryParametersChangeEvent(this, qp)\n                );\n            });\n        }\n\n        @Override\n        public void updateState(QueryParameters queryParameters) {\n            // Apply URL value to the field when the view is (re)opened\n            List\u003cString\u003e textStrings \u003d queryParameters.getParameters().get(TEXT_URL_PARAM);\n            if (textStrings !\u003d null \u0026\u0026 !textStrings.isEmpty()) {\n                sampleTextField.setValue(textStrings.get(0));\n            }\n        }\n\n        @Override\n        public Component getComponent() {\n            return null; // we don’t bind to a specific visual component\n        }\n    }\n\n    @Subscribe\n    public void onInit(InitEvent event) {\n        urlQueryParameters.registerBinder(new SampleUrlQueryParametersBinder());\n    }\n}\n```",
    "category": "complex"
  }
]